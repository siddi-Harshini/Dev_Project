{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Siddi.Harshini/Downloads/Dev_lnnovations/frontend/pages/bookmarks.js"],"sourcesContent":["import { useEffect, useMemo, useState } from \"react\";\nimport Link from \"next/link\";\n\nconst API_BASE = process.env.NEXT_PUBLIC_API_BASE || \"http://localhost:5000\";\n\nfunction parseTags(input) {\n  return input\n    .split(\",\")\n    .map((t) => t.trim())\n    .filter(Boolean);\n}\n\nexport default function BookmarksPage() {\n  const [bookmarks, setBookmarks] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [query, setQuery] = useState(\"\");\n  const [tags, setTags] = useState(\"\");\n  const [form, setForm] = useState({ title: \"\", url: \"\", description: \"\", tags: \"\", favorite: false });\n  const [editingId, setEditingId] = useState(null);\n\n  const params = useMemo(() => {\n    const search = new URLSearchParams();\n    if (query) search.set(\"q\", query);\n    if (tags) search.set(\"tags\", tags);\n    return search.toString();\n  }, [query, tags]);\n\n  async function loadBookmarks() {\n    setLoading(true);\n    setError(\"\");\n    try {\n      const res = await fetch(`${API_BASE}/api/bookmarks${params ? `?${params}` : \"\"}`);\n      const data = await res.json();\n      if (!res.ok) throw new Error(data.error || \"Failed to load\");\n      setBookmarks(data);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  useEffect(() => {\n    loadBookmarks();\n  }, [params]);\n\n  function resetForm() {\n    setForm({ title: \"\", url: \"\", description: \"\", tags: \"\", favorite: false });\n    setEditingId(null);\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    const payload = {\n      title: form.title,\n      url: form.url,\n      description: form.description,\n      tags: parseTags(form.tags),\n      favorite: form.favorite\n    };\n\n    const isEditing = Boolean(editingId);\n    const res = await fetch(`${API_BASE}/api/bookmarks${isEditing ? `/${editingId}` : \"\"}`, {\n      method: isEditing ? \"PUT\" : \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(payload)\n    });\n\n    if (!res.ok) {\n      const data = await res.json();\n      setError(data.error || \"Request failed\");\n      return;\n    }\n\n    resetForm();\n    loadBookmarks();\n  }\n\n  function startEdit(bookmark) {\n    setEditingId(bookmark._id);\n    setForm({\n      title: bookmark.title,\n      url: bookmark.url,\n      description: bookmark.description,\n      tags: (bookmark.tags || []).join(\", \"),\n      favorite: Boolean(bookmark.favorite)\n    });\n  }\n\n  async function removeBookmark(id) {\n    if (!confirm(\"Delete this bookmark?\")) return;\n    await fetch(`${API_BASE}/api/bookmarks/${id}`, { method: \"DELETE\" });\n    loadBookmarks();\n  }\n\n  return (\n    <main className=\"min-h-screen px-6 py-10\">\n      <div className=\"mx-auto max-w-6xl\">\n        <div className=\"flex flex-wrap items-center justify-between gap-4\">\n          <div>\n            <h1 className=\"text-3xl font-semibold\">Bookmarks</h1>\n            <p className=\"text-slate-600\">Save useful links and keep them searchable.</p>\n          </div>\n          <Link href=\"/notes\" className=\"btn\">Go to Notes</Link>\n        </div>\n\n        <div className=\"mt-8 grid gap-6 lg:grid-cols-[1.1fr_1fr]\">\n          <section className=\"card p-6\">\n            <h2 className=\"text-lg font-semibold\">{editingId ? \"Edit bookmark\" : \"New bookmark\"}</h2>\n            <form className=\"mt-4 space-y-3\" onSubmit={handleSubmit}>\n              <input\n                className=\"input\"\n                placeholder=\"Title (optional)\"\n                value={form.title}\n                onChange={(e) => setForm({ ...form, title: e.target.value })}\n              />\n              <input\n                className=\"input\"\n                placeholder=\"URL\"\n                value={form.url}\n                onChange={(e) => setForm({ ...form, url: e.target.value })}\n                required\n              />\n              <textarea\n                className=\"input min-h-[120px]\"\n                placeholder=\"Description\"\n                value={form.description}\n                onChange={(e) => setForm({ ...form, description: e.target.value })}\n              />\n              <input\n                className=\"input\"\n                placeholder=\"Tags (comma separated)\"\n                value={form.tags}\n                onChange={(e) => setForm({ ...form, tags: e.target.value })}\n              />\n              <label className=\"flex items-center gap-2 text-sm\">\n                <input\n                  type=\"checkbox\"\n                  checked={form.favorite}\n                  onChange={(e) => setForm({ ...form, favorite: e.target.checked })}\n                />\n                Mark as favorite\n              </label>\n              <div className=\"flex flex-wrap gap-3\">\n                <button className=\"btn\" type=\"submit\">{editingId ? \"Update\" : \"Create\"}</button>\n                {editingId && (\n                  <button className=\"btn\" type=\"button\" onClick={resetForm}>Cancel</button>\n                )}\n              </div>\n            </form>\n          </section>\n\n          <section className=\"card p-6\">\n            <h2 className=\"text-lg font-semibold\">Search</h2>\n            <div className=\"mt-4 space-y-3\">\n              <input\n                className=\"input\"\n                placeholder=\"Search text\"\n                value={query}\n                onChange={(e) => setQuery(e.target.value)}\n              />\n              <input\n                className=\"input\"\n                placeholder=\"Filter tags (comma separated)\"\n                value={tags}\n                onChange={(e) => setTags(e.target.value)}\n              />\n            </div>\n            {error && <p className=\"mt-4 text-sm text-red-600\">{error}</p>}\n          </section>\n        </div>\n\n        <section className=\"mt-8\">\n          <div className=\"flex items-center justify-between\">\n            <h2 className=\"text-lg font-semibold\">Results</h2>\n            {loading && <span className=\"text-sm text-slate-500\">Loading...</span>}\n          </div>\n          <div className=\"mt-4 grid gap-4 md:grid-cols-2\">\n            {bookmarks.map((bookmark) => (\n              <article key={bookmark._id} className=\"card p-5\">\n                <div className=\"flex items-start justify-between gap-3\">\n                  <div>\n                    <h3 className=\"text-lg font-semibold\">{bookmark.title || \"Untitled\"}</h3>\n                    <a\n                      className=\"mono text-sm text-amber-700 underline\"\n                      href={bookmark.url}\n                      target=\"_blank\"\n                      rel=\"noreferrer\"\n                    >\n                      {bookmark.url}\n                    </a>\n                  </div>\n                  {bookmark.favorite && <span className=\"badge\">Favorite</span>}\n                </div>\n                <p className=\"mt-2 text-sm text-slate-600\">{bookmark.description}</p>\n                <div className=\"mt-4 flex flex-wrap gap-2\">\n                  {(bookmark.tags || []).map((tag) => (\n                    <span key={tag} className=\"badge\">{tag}</span>\n                  ))}\n                </div>\n                <div className=\"mt-4 flex flex-wrap gap-3\">\n                  <button className=\"btn\" onClick={() => startEdit(bookmark)}>Edit</button>\n                  <button className=\"btn\" onClick={() => removeBookmark(bookmark._id)}>Delete</button>\n                </div>\n              </article>\n            ))}\n          </div>\n        </section>\n      </div>\n    </main>\n  );\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEA,MAAM,WAAW,QAAQ,GAAG,CAAC,oBAAoB,IAAI;AAErD,SAAS,UAAU,KAAK;IACtB,OAAO,MACJ,KAAK,CAAC,KACN,GAAG,CAAC,CAAC,IAAM,EAAE,IAAI,IACjB,MAAM,CAAC;AACZ;AAEe,SAAS;IACtB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,+GAAQ,EAAC,EAAE;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC;IACnC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC;IACnC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,+GAAQ,EAAC;IACjC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,+GAAQ,EAAC;QAAE,OAAO;QAAI,KAAK;QAAI,aAAa;QAAI,MAAM;QAAI,UAAU;IAAM;IAClG,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,+GAAQ,EAAC;IAE3C,MAAM,SAAS,IAAA,8GAAO,EAAC;QACrB,MAAM,SAAS,IAAI;QACnB,IAAI,OAAO,OAAO,GAAG,CAAC,KAAK;QAC3B,IAAI,MAAM,OAAO,GAAG,CAAC,QAAQ;QAC7B,OAAO,OAAO,QAAQ;IACxB,GAAG;QAAC;QAAO;KAAK;IAEhB,eAAe;QACb,WAAW;QACX,SAAS;QACT,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,cAAc,EAAE,SAAS,CAAC,CAAC,EAAE,QAAQ,GAAG,IAAI;YAChF,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM,KAAK,KAAK,IAAI;YAC3C,aAAa;QACf,EAAE,OAAO,KAAK;YACZ,SAAS,IAAI,OAAO;QACtB,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAA,gHAAS,EAAC;QACR;IACF,GAAG;QAAC;KAAO;IAEX,SAAS;QACP,QAAQ;YAAE,OAAO;YAAI,KAAK;YAAI,aAAa;YAAI,MAAM;YAAI,UAAU;QAAM;QACzE,aAAa;IACf;IAEA,eAAe,aAAa,CAAC;QAC3B,EAAE,cAAc;QAChB,MAAM,UAAU;YACd,OAAO,KAAK,KAAK;YACjB,KAAK,KAAK,GAAG;YACb,aAAa,KAAK,WAAW;YAC7B,MAAM,UAAU,KAAK,IAAI;YACzB,UAAU,KAAK,QAAQ;QACzB;QAEA,MAAM,YAAY,QAAQ;QAC1B,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,cAAc,EAAE,YAAY,CAAC,CAAC,EAAE,WAAW,GAAG,IAAI,EAAE;YACtF,QAAQ,YAAY,QAAQ;YAC5B,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;QACvB;QAEA,IAAI,CAAC,IAAI,EAAE,EAAE;YACX,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,SAAS,KAAK,KAAK,IAAI;YACvB;QACF;QAEA;QACA;IACF;IAEA,SAAS,UAAU,QAAQ;QACzB,aAAa,SAAS,GAAG;QACzB,QAAQ;YACN,OAAO,SAAS,KAAK;YACrB,KAAK,SAAS,GAAG;YACjB,aAAa,SAAS,WAAW;YACjC,MAAM,CAAC,SAAS,IAAI,IAAI,EAAE,EAAE,IAAI,CAAC;YACjC,UAAU,QAAQ,SAAS,QAAQ;QACrC;IACF;IAEA,eAAe,eAAe,EAAE;QAC9B,IAAI,CAAC,QAAQ,0BAA0B;QACvC,MAAM,MAAM,GAAG,SAAS,eAAe,EAAE,IAAI,EAAE;YAAE,QAAQ;QAAS;QAClE;IACF;IAEA,qBACE,qKAAC;QAAK,WAAU;kBACd,cAAA,qKAAC;YAAI,WAAU;;8BACb,qKAAC;oBAAI,WAAU;;sCACb,qKAAC;;8CACC,qKAAC;oCAAG,WAAU;8CAAyB;;;;;;8CACvC,qKAAC;oCAAE,WAAU;8CAAiB;;;;;;;;;;;;sCAEhC,qKAAC,4KAAI;4BAAC,MAAK;4BAAS,WAAU;sCAAM;;;;;;;;;;;;8BAGtC,qKAAC;oBAAI,WAAU;;sCACb,qKAAC;4BAAQ,WAAU;;8CACjB,qKAAC;oCAAG,WAAU;8CAAyB,YAAY,kBAAkB;;;;;;8CACrE,qKAAC;oCAAK,WAAU;oCAAiB,UAAU;;sDACzC,qKAAC;4CACC,WAAU;4CACV,aAAY;4CACZ,OAAO,KAAK,KAAK;4CACjB,UAAU,CAAC,IAAM,QAAQ;oDAAE,GAAG,IAAI;oDAAE,OAAO,EAAE,MAAM,CAAC,KAAK;gDAAC;;;;;;sDAE5D,qKAAC;4CACC,WAAU;4CACV,aAAY;4CACZ,OAAO,KAAK,GAAG;4CACf,UAAU,CAAC,IAAM,QAAQ;oDAAE,GAAG,IAAI;oDAAE,KAAK,EAAE,MAAM,CAAC,KAAK;gDAAC;4CACxD,QAAQ;;;;;;sDAEV,qKAAC;4CACC,WAAU;4CACV,aAAY;4CACZ,OAAO,KAAK,WAAW;4CACvB,UAAU,CAAC,IAAM,QAAQ;oDAAE,GAAG,IAAI;oDAAE,aAAa,EAAE,MAAM,CAAC,KAAK;gDAAC;;;;;;sDAElE,qKAAC;4CACC,WAAU;4CACV,aAAY;4CACZ,OAAO,KAAK,IAAI;4CAChB,UAAU,CAAC,IAAM,QAAQ;oDAAE,GAAG,IAAI;oDAAE,MAAM,EAAE,MAAM,CAAC,KAAK;gDAAC;;;;;;sDAE3D,qKAAC;4CAAM,WAAU;;8DACf,qKAAC;oDACC,MAAK;oDACL,SAAS,KAAK,QAAQ;oDACtB,UAAU,CAAC,IAAM,QAAQ;4DAAE,GAAG,IAAI;4DAAE,UAAU,EAAE,MAAM,CAAC,OAAO;wDAAC;;;;;;gDAC/D;;;;;;;sDAGJ,qKAAC;4CAAI,WAAU;;8DACb,qKAAC;oDAAO,WAAU;oDAAM,MAAK;8DAAU,YAAY,WAAW;;;;;;gDAC7D,2BACC,qKAAC;oDAAO,WAAU;oDAAM,MAAK;oDAAS,SAAS;8DAAW;;;;;;;;;;;;;;;;;;;;;;;;sCAMlE,qKAAC;4BAAQ,WAAU;;8CACjB,qKAAC;oCAAG,WAAU;8CAAwB;;;;;;8CACtC,qKAAC;oCAAI,WAAU;;sDACb,qKAAC;4CACC,WAAU;4CACV,aAAY;4CACZ,OAAO;4CACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;sDAE1C,qKAAC;4CACC,WAAU;4CACV,aAAY;4CACZ,OAAO;4CACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;gCAG1C,uBAAS,qKAAC;oCAAE,WAAU;8CAA6B;;;;;;;;;;;;;;;;;;8BAIxD,qKAAC;oBAAQ,WAAU;;sCACjB,qKAAC;4BAAI,WAAU;;8CACb,qKAAC;oCAAG,WAAU;8CAAwB;;;;;;gCACrC,yBAAW,qKAAC;oCAAK,WAAU;8CAAyB;;;;;;;;;;;;sCAEvD,qKAAC;4BAAI,WAAU;sCACZ,UAAU,GAAG,CAAC,CAAC,yBACd,qKAAC;oCAA2B,WAAU;;sDACpC,qKAAC;4CAAI,WAAU;;8DACb,qKAAC;;sEACC,qKAAC;4DAAG,WAAU;sEAAyB,SAAS,KAAK,IAAI;;;;;;sEACzD,qKAAC;4DACC,WAAU;4DACV,MAAM,SAAS,GAAG;4DAClB,QAAO;4DACP,KAAI;sEAEH,SAAS,GAAG;;;;;;;;;;;;gDAGhB,SAAS,QAAQ,kBAAI,qKAAC;oDAAK,WAAU;8DAAQ;;;;;;;;;;;;sDAEhD,qKAAC;4CAAE,WAAU;sDAA+B,SAAS,WAAW;;;;;;sDAChE,qKAAC;4CAAI,WAAU;sDACZ,CAAC,SAAS,IAAI,IAAI,EAAE,EAAE,GAAG,CAAC,CAAC,oBAC1B,qKAAC;oDAAe,WAAU;8DAAS;mDAAxB;;;;;;;;;;sDAGf,qKAAC;4CAAI,WAAU;;8DACb,qKAAC;oDAAO,WAAU;oDAAM,SAAS,IAAM,UAAU;8DAAW;;;;;;8DAC5D,qKAAC;oDAAO,WAAU;oDAAM,SAAS,IAAM,eAAe,SAAS,GAAG;8DAAG;;;;;;;;;;;;;mCAvB3D,SAAS,GAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCxC"}}]
}